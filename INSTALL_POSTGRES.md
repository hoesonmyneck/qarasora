# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: "–û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–µ—Ä–µ–∑ Chocolatey –±–µ–∑ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Chocolatey —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∞

1. **–ó–∞–∫—Ä–æ–π—Ç–µ —Ç–µ–∫—É—â–∏–π PowerShell**

2. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
   - –ù–∞–∂–º–∏—Ç–µ `Win + X`
   - –í—ã–±–µ—Ä–∏—Ç–µ "Windows PowerShell (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)" –∏–ª–∏ "Terminal (Admin)"
   - –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ PowerShell –≤ –º–µ–Ω—é –ü—É—Å–∫ ‚Üí –ü–ö–ú ‚Üí "–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL:**
   ```powershell
   choco install postgresql
   ```

4. **–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª—É–∂–±—É:**
   ```powershell
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
   psql --version
   
   # –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
   Start-Service postgresql-x64-18
   ```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–≠—Ç–æ –ø—Ä–æ—â–µ –∏ –Ω–∞–¥—ë–∂–Ω–µ–µ:

1. **–°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.postgresql.org/download/windows/
   - –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é: https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL 16)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
   - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —Å–∫–∞—á–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –º–∞—Å—Ç–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
   - **–í–ê–ñ–ù–û:** –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`!
   - –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `5432`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:**
   ```powershell
   psql --version
   ```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ï—Å–ª–∏ PostgreSQL –Ω–µ —É–¥–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite:

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ SQLite
```bash
cd backend
npm install sqlite3
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**backend/config/database-sqlite.js:**
```javascript
import sqlite3 from 'sqlite3';
import { open } from 'sqlite';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

let db = null;

export async function getDb() {
  if (db) return db;
  
  db = await open({
    filename: path.join(__dirname, '..', 'database.sqlite'),
    driver: sqlite3.Database
  });
  
  return db;
}

export default { getDb };
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ **backend/scripts/initDb-sqlite.js** –¥–ª—è SQLite –≤–µ—Ä—Å–∏–∏.

## üéØ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```powershell
   # –û—Ç–∫—Ä–æ–π—Ç–µ psql
   psql -U postgres
   
   # –í psql –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   CREATE DATABASE qarasora;
   \q
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ backend/.env:**
   ```env
   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–∫–æ—Ç–æ—Ä—ã–π_—É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏
   DB_NAME=qarasora
   ```

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   cd backend
   npm run init-db
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–µ–∫–µ–Ω–¥:**
   ```bash
   npm run dev
   ```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã PostgreSQL

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
psql --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª—É–∂–±—ã (Windows)
Get-Service -Name postgresql*

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -d qarasora
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–µ—Å–ª–∏ PostgreSQL —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -c "CREATE DATABASE qarasora;"

# 2. –û–±–Ω–æ–≤–∏—Ç–µ backend/.env —Å –≤–∞—à–∏–º –ø–∞—Ä–æ–ª–µ–º

# 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ë–î
cd backend
npm install
npm run init-db

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–µ–∫–µ–Ω–¥
npm run dev

# 5. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd ..
npm run dev
```

## üìû –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

–ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —Ç–µ–∫—É—â—É—é —Å–∏—Ç—É–∞—Ü–∏—é:
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ PostgreSQL? (`psql --version`)
- –ö–∞–∫–∞—è –≤–µ—Ä—Å–∏—è Windows?
- –ï—Å—Ç—å –ª–∏ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?

–Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ!
